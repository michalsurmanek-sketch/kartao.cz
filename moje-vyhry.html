<!-- Sekce Moje v√Ωhry ‚Äì Kartao.cz -->
<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kartao.cz ‚Äì Moje v√Ωhry</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            fuchsia: tailwind.colors.fuchsia,
            amber: tailwind.colors.amber,
            neutral: tailwind.colors.neutral,
            emerald: tailwind.colors.emerald,
            rose: tailwind.colors.rose,
          },
          boxShadow: {
            soft: "0 18px 45px rgba(15,23,42,0.85)",
          },
        },
      },
    };
  </script>

  <!-- Ikony -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
</head>
<body class="min-h-screen bg-neutral-950 text-white py-10">

  <div class="max-w-5xl mx-auto px-4">
    <h1 class="text-3xl font-bold mb-2 flex items-center gap-3">
      <i data-lucide="trophy" class="w-8 h-8 text-amber-400"></i>
      Moje v√Ωhry
    </h1>
    <p class="text-sm text-white/60 mb-6">
  Tady se ti ukl√°daj√≠ v≈°echny v√Ωhry z 
  <a href="mystery-box.html" class="text-amber-300 font-semibold hover:text-amber-400 transition-all duration-200">
    Mystery Boxu
  </a>
  a dal≈°√≠ch odmƒõn Kartao.cz.
</p>


    <!-- Stav, kdy≈æ je≈°tƒõ nic nevyhr√°l -->
    <div id="emptyState" class="mt-10 rounded-2xl border border-dashed border-white/15 bg-neutral-900/60 px-6 py-10 text-center">
      <div class="mx-auto mb-4 w-12 h-12 rounded-2xl bg-gradient-to-tr from-fuchsia-500 to-amber-400 grid place-items-center">
        <i data-lucide="package-open" class="w-6 h-6"></i>
      </div>
      <h2 class="font-semibold text-lg mb-2">Zat√≠m ≈æ√°dn√© v√Ωhry</h2>
      <p class="text-sm text-white/60 mb-4">Otev≈ôi sv≈Øj prvn√≠ Mystery Box a v√Ωhra se ti ulo≈æ√≠ pr√°vƒõ sem.</p>
      <a href="mystery-box.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-fuchsia-500 to-amber-400 text-sm font-medium text-black">
        <i data-lucide="sparkles" class="w-4 h-4"></i>
        <span>J√≠t otev≈ô√≠t Mystery Box</span>
      </a>
    </div>

    <!-- GRID V√ùHER (dopln√≠ se z JS) -->
    <div id="rewardsGrid" class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-6 hidden"></div>
  </div>

  <script>
    // Jen ƒçte a zobrazuje v√Ωhry, kter√© ukl√°d√° Mystery Box (localStorage)
    // Kl√≠ƒç: "kartao_rewards"

    function formatDate(dateStr) {
      const d = new Date(dateStr);
      if (isNaN(d)) return "";
      const den = String(d.getDate()).padStart(2, "0");
      const mesic = String(d.getMonth() + 1).padStart(2, "0");
      const rok = d.getFullYear();
      return `${den}. ${mesic}. ${rok}`;
    }

    function getGradientClasses(type) {
      switch (type) {
        case "mystery":
          return "from-amber-400 to-fuchsia-500";
        case "gold-card":
          return "from-emerald-400 to-emerald-600";
        case "ticket":
          return "from-rose-400 to-rose-600";
        default:
          return "from-neutral-700 to-neutral-900";
      }
    }

    function getIcon(type) {
      switch (type) {
        case "mystery":
          return "gift";
        case "gold-card":
          return "badge-check";
        case "ticket":
          return "ticket";
        default:
          return "star";
      }
    }

    window.addEventListener("DOMContentLoaded", () => {
      if (window.lucide) {
        lucide.createIcons();
      }

      const grid = document.getElementById("rewardsGrid");
      const emptyState = document.getElementById("emptyState");

      // 1) Naƒçti v√Ωhry z localStorage (ulo≈æ√≠ je Mystery Box)
      let rewards = [];
      try {
        rewards = JSON.parse(localStorage.getItem("kartao_rewards") || "[]");
      } catch (e) {
        rewards = [];
      }

      if (!rewards || rewards.length === 0) {
        emptyState.classList.remove("hidden");
        return;
      }

      emptyState.classList.add("hidden");
      grid.classList.remove("hidden");

      rewards.forEach((reward) => {
        const card = document.createElement("div");
        card.className = "rounded-2xl shadow-soft hover:shadow-xl transition-all";

        const icon = getIcon(reward.type);

        card.innerHTML = `
          <div class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-neutral-900 via-neutral-950 to-neutral-950 border border-amber-400/50 p-[1px]">
            <div class="rounded-2xl bg-neutral-950/95 px-4 py-4 flex flex-col gap-3">
              <div class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-emerald-500/10 border border-emerald-400/40 text-[11px] text-emerald-200">
                <span>V√Ωhra z Mystery Boxu</span>
              </div>

              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-2xl bg-gradient-to-tr from-amber-300 to-yellow-200 flex items-center justify-center shadow-lg shadow-amber-400/70">
                  <i data-lucide="${icon}" class="w-5 h-5 text-neutral-950"></i>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-[11px] text-amber-200/80 mb-0.5">Vyhr√°no: ${formatDate(reward.date)}</p>
                  <h3 class="font-semibold text-base text-amber-100 truncate">${reward.title || "V√Ωhra"}</h3>
                </div>
              </div>

              <div class="mt-1 flex items-center justify-between gap-3">
                <div class="text-[11px] text-white/60">
                  Typ odmƒõny:
                  <span class="font-medium text-amber-200">
                    ${reward.type === "gold-card" ? "VIP karta" : reward.type === "ticket" ? "Kupon / tiket" : "K-Coins"}
                  </span>
                </div>
                <div class="js-reward-action"></div>
              </div>
            </div>
          </div>
        `;

        const actionContainer = card.querySelector(".js-reward-action");

        if (reward.type === "mystery") {
          // K-Coins ‚Äì bez tlaƒç√≠tka
        } else if (reward.type === "gold-card") {
  
  // üî• Zlat√Ω r√°meƒçek kolem cel√© karty
  outer.className =
    "js-card-outer relative overflow-hidden rounded-3xl p-[2px] bg-gradient-to-br from-amber-400 via-yellow-300 to-fuchsia-500 shadow-[0_0_40px_rgba(251,191,36,0.55)]";

  // ‚ú® Vnit≈ôek ‚Äì elegantn√≠ tmav√Ω p≈ôechod
  inner.className =
    "js-card-inner relative rounded-[1.35rem] bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 px-6 py-5 flex flex-col gap-4 overflow-hidden";

  // üü° Badge ‚Äì Gold VIP karta
  badge.className =
    "js-card-badge inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-500/10 border border-amber-300/60 text-[11px] uppercase tracking-wide text-amber-200";
  badge.innerHTML = `
    <i data-lucide="crown" class="w-3.5 h-3.5"></i>
    <span>Gold VIP karta</span>
  `;

  // üü° Ikona v kulat√©m zlat√©m kruhu
  iconWrap.className =
    "js-card-icon-wrap relative w-14 h-14 rounded-full bg-gradient-to-br from-amber-300 via-yellow-200 to-amber-500 flex items-center justify-center shadow-[0_0_35px_rgba(250,204,21,0.85)]";
  iconWrap.innerHTML = `
    <div class="absolute inset-[3px] rounded-full bg-gradient-to-br from-amber-100 to-amber-300"></div>
    <i data-lucide="shield-check" class="relative w-7 h-7 text-amber-800"></i>
  `;

  // ‚ú® Dekoraƒçn√≠ efekty v pozad√≠
  const deco1 = document.createElement("div");
  deco1.className =
    "pointer-events-none absolute -right-10 -top-10 w-32 h-32 rounded-full bg-amber-500/10 blur-2";
  const deco2 = document.createElement("div");
  deco2.className =
    "pointer-events-none absolute -left-16 -bottom-16 w-40 h-40 rounded-full bg-fuchsia-500/10 blur-3";
  inner.appendChild(deco1);
  inner.appendChild(deco2);

  // üü° Zlat√© tlaƒç√≠tko ‚ÄûAktivovat VIP den‚Äú
  actionContainer.innerHTML = `
    <a href="vip.html"
       class="group inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-200 text-[11px] font-semibold text-neutral-900 shadow-[0_0_25px_rgba(250,204,21,0.9)] hover:shadow-[0_0_35px_rgba(244,244,245,0.95)] transition-all">
      <span>Aktivovat VIP den</span>
      <i data-lucide="arrow-right" class="w-3.5 h-3.5 group-hover:translate-x-0.5 transition-transform"></i>
    </a>
  `;
}

        } else if (reward.type === "ticket") {
          actionContainer.innerHTML = `
            <a href="mini-slevomat.html"
               class="px-3 py-1.5 rounded-full bg-gradient-to-r from-amber-400 via-amber-300 to-yellow-300 text-[11px] font-semibold text-neutral-950 shadow-md shadow-amber-500/40 whitespace-nowrap">
              Vybrat slevu
            </a>
          `;
        } else {
          actionContainer.innerHTML = `
            <button class="px-3 py-1.5 rounded-full bg-gradient-to-r from-amber-400 via-amber-300 to-yellow-300 text-[11px] font-semibold text-neutral-950 shadow-md shadow-amber-500/40 whitespace-nowrap"
                    data-reward-id="${reward.id || ""}">
              Detail
            </a>
          `;
        }

        grid.appendChild(card);
      });

      // Po dynamick√©m vlo≈æen√≠ ikon je znovu vygenerujeme
      if (window.lucide) {
        lucide.createIcons();
      }
    });
  </script>
</body>
</html>
