<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kartao.cz – Vyber si výhru</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            fuchsia: tailwind.colors.fuchsia,
            amber: tailwind.colors.amber,
            neutral: tailwind.colors.neutral,
            emerald: tailwind.colors.emerald,
            sky: tailwind.colors.sky,
            rose: tailwind.colors.rose,
          },
          boxShadow: {
            soft: "0 18px 45px rgba(15,23,42,0.85)",
          },
        },
      },
    };
  </script>

  <!-- Ikony -->
  <!-- Lucide ikony - unified system -->
  <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
  <script defer src="icons-loader.js"></script>
</head>
<body class="min-h-screen bg-neutral-950 text-white py-8">
  <div class="max-w-5xl mx-auto px-4">

    <!-- HLAVIČKA -->
    <header class="mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-400/10 border border-amber-400/40 text-[11px] text-amber-200 uppercase tracking-wide">
          <i data-lucide="badge-check" class="w-3 h-3"></i>
          <span>Zlatá karta – výběr výhry</span>
        </div>
        <h1 class="mt-3 text-2xl sm:text-3xl font-bold flex items-center gap-3">
          <span class="inline-flex w-9 h-9 rounded-2xl bg-gradient-to-tr from-amber-400 to-yellow-300 items-center justify-center shadow-soft">
            <i data-lucide="trophy" class="w-5 h-5 text-neutral-950"></i>
          </span>
          <span>Vyber si svoji výhru</span>
        </h1>
        <p class="mt-2 text-sm text-white/65 max-w-xl">
          Za <span class="text-amber-300 font-semibold">Zlatou kartu</span> si můžeš jednorázově vybrat jednu z níže uvedených odměn.
          Aktuální nabídky mohou být dárkové poukazy, pobyty, restaurace, výlety nebo speciální akce partnerů Kartao.cz.
        </p>
      </div>

      <div class="flex gap-2 sm:flex-col sm:items-end">
        <a href="moje-vyhry.html" class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-white/15 text-xs text-white/80 hover:bg-white/5">
          <i data-lucide="arrow-left" class="w-4 h-4"></i>
          <span>Zpět na moje výhry</span>
        </a>
        <a href="mystery-box.html" class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-fuchsia-500 to-amber-400 text-xs font-semibold text-neutral-950 shadow-soft">
          <i data-lucide="sparkles" class="w-4 h-4"></i>
          <span>Otevřít další Mystery Box</span>
        </a>
      </div>
    </header>

    <!-- INFO O ZLATÉ KARTĚ (kontrola localStorage) -->
    <section id="goldInfo" class="mb-6 text-sm text-white/70 hidden">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-400/40">
        <i data-lucide="crown" class="w-4 h-4 text-emerald-300"></i>
        <span>
          Aktivní Zlaté karty: <span id="goldCardCount" class="font-semibold text-emerald-200">1</span>.
          Výběr výhry je zatím pouze ukázkový (bez skutečné rezervace).
        </span>
      </div>
    </section>

    <!-- STAV: BEZ ZLATÉ KARTY -->
    <section id="noGoldCardState" class="mt-6 rounded-2xl border border-dashed border-white/15 bg-neutral-900/60 px-6 py-8 text-center hidden">
      <div class="mx-auto mb-4 w-12 h-12 rounded-2xl bg-gradient-to-tr from-rose-500 to-amber-400 grid place-items-center">
        <i data-lucide="lock" class="w-6 h-6"></i>
      </div>
      <h2 class="font-semibold text-lg mb-2">Nemáš aktivní Zlatou kartu</h2>
      <p class="text-sm text-white/60 mb-4 max-w-md mx-auto">
        Výběr výhry je dostupný, jen pokud máš v systému aktivní výhru typu
        <span class="text-amber-300 font-semibold">Zlatá karta (VIP)</span> z Mystery Boxu.
      </p>
      <div class="flex flex-wrap justify-center gap-2">
        <a href="moje-vyhry.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/15 text-xs text-white/80 hover:bg-white/5">
          <i data-lucide="gift" class="w-4 h-4"></i>
          <span>Zkontrolovat moje výhry</span>
        </a>
        <a href="mystery-box.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-fuchsia-500 to-amber-400 text-xs font-semibold text-neutral-950 shadow-soft">
          <i data-lucide="sparkles" class="w-4 h-4"></i>
          <span>Otevřít Mystery Box</span>
        </a>
      </div>
    </section>

    <!-- FILTRY / KATEGORIE (zatím jen vizuálně) -->
    <section class="mt-4 mb-4">
      <div class="flex flex-wrap gap-2 text-[11px]">
        <span class="px-3 py-1 rounded-full bg-white/5 border border-white/15 text-white/80">
          Všechny nabídky
        </span>
        <span class="px-3 py-1 rounded-full bg-amber-400/10 border border-amber-400/40 text-amber-200/90">
          Dárkové poukazy
        </span>
        <span class="px-3 py-1 rounded-full bg-emerald-400/10 border border-emerald-400/40 text-emerald-200/90">
          Pobyty &amp; wellness
        </span>
        <span class="px-3 py-1 rounded-full bg-sky-400/10 border border-sky-400/40 text-sky-200/90">
          Výlety &amp; zážitky
        </span>
        <span class="px-3 py-1 rounded-full bg-rose-400/10 border border-rose-400/40 text-rose-200/90">
          Restaurace
        </span>
      </div>
    </section>

    <!-- GRID NABÍDEK – SEM BUDEŠ V BUDOUCNU PŘIDÁVAT REAL NABÍDKY -->
    <section id="offersSection" class="mt-4">
      <div id="offersGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">

        <!-- 1) Dárkový poukaz – restaurace -->
        <article class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-neutral-900 via-neutral-950 to-neutral-950 border border-amber-400/50 p-[1px]">
          <div class="rounded-2xl bg-neutral-950/95 px-4 py-4 flex flex-col gap-3 h-full">
            <div class="flex items-center justify-between gap-3">
              <div class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-rose-500/10 border border-rose-400/40 text-[11px] text-rose-200">
                <i data-lucide="utensils" class="w-3 h-3"></i>
                <span>Restaurace · Dárkový poukaz</span>
              </div>
              <div class="w-9 h-9 rounded-2xl bg-gradient-to-tr from-rose-400 to-amber-300 flex items-center justify-center text-neutral-950 text-xs font-bold shadow-lg shadow-rose-500/50">
                R
              </div>
            </div>

            <div>
              <h2 class="text-base font-semibold text-amber-100 mb-1">
                Večeře pro 2 v partnerské restauraci
              </h2>
              <p class="text-xs text-white/65 mb-2">
                Dárkový poukaz v hodnotě <span class="font-semibold text-amber-200">1 000 Kč</span> na konzumaci v síti vybraných partnerských restaurací.
              </p>
              <p class="text-[11px] text-white/45">
                Partner: <span class="text-white/70">Restaurace / Gastro partner</span>
              </p>
            </div>

            <div class="mt-auto flex items-center justify-between gap-3 pt-2 border-t border-white/5">
              <p class="text-[11px] text-emerald-200 flex items-center gap-1">
                <i data-lucide="check-circle" class="w-3 h-3"></i>
                <span>Ideální pro romantický večer</span>
              </p>
              <button
                class="px-3 py-1.5 rounded-full bg-gradient-to-r from-amber-400 via-amber-300 to-yellow-300 text-[11px] font-semibold text-neutral-950 shadow-md shadow-amber-500/40 whitespace-nowrap"
                data-offer-id="offer_restaurace_1"
              >
                Vybrat tuto výhru
              </button>
            </div>
          </div>
        </article>

        <!-- 2) Wellness pobyt -->
        <article class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-neutral-900 via-neutral-950 to-neutral-950 border border-emerald-400/50 p-[1px]">
          <div class="rounded-2xl bg-neutral-950/95 px-4 py-4 flex flex-col gap-3 h-full">
            <div class="flex items-center justify-between gap-3">
              <div class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-emerald-500/10 border border-emerald-400/40 text-[11px] text-emerald-200">
                <i data-lucide="spa" class="w-3 h-3"></i>
                <span>Pobyt &amp; wellness</span>
              </div>
              <div class="w-9 h-9 rounded-2xl bg-gradient-to-tr from-emerald-400 to-sky-300 flex items-center justify-center text-neutral-950 text-xs font-bold shadow-lg shadow-emerald-500/50">
                W
              </div>
            </div>

            <div>
              <h2 class="text-base font-semibold text-amber-100 mb-1">
                Wellness víkend pro 2 osoby
              </h2>
              <p class="text-xs text-white/65 mb-2">
                2 noci ve čtyřhvězdičkovém hotelu, wellness zóna, snídaně a pozdní check-out (podle aktuální nabídky partnera).
              </p>
              <p class="text-[11px] text-white/45">
                Partner: <span class="text-white/70">Wellness hotel / resort</span>
              </p>
            </div>

            <div class="mt-auto flex items-center justify-between gap-3 pt-2 border-t border-white/5">
              <p class="text-[11px] text-emerald-200 flex items-center gap-1">
                <i data-lucide="leaf" class="w-3 h-3"></i>
                <span>Odpočinek a relax</span>
              </p>
              <button
                class="px-3 py-1.5 rounded-full bg-gradient-to-r from-emerald-400 via-emerald-300 to-amber-300 text-[11px] font-semibold text-neutral-950 shadow-md shadow-emerald-500/40 whitespace-nowrap"
                data-offer-id="offer_wellness_1"
              >
                Vybrat tuto výhru
              </button>
            </div>
          </div>
        </article>

        <!-- 3) Zážitkový výlet -->
        <article class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-neutral-900 via-neutral-950 to-neutral-950 border border-sky-400/50 p-[1px]">
          <div class="rounded-2xl bg-neutral-950/95 px-4 py-4 flex flex-col gap-3 h-full">
            <div class="flex items-center justify-between gap-3">
              <div class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-sky-500/10 border border-sky-400/40 text-[11px] text-sky-200">
                <i data-lucide="plane" class="w-3 h-3"></i>
                <span>Výlety &amp; zážitky</span>
              </div>
              <div class="w-9 h-9 rounded-2xl bg-gradient-to-tr from-sky-400 to-fuchsia-400 flex items-center justify-center text-neutral-950 text-xs font-bold shadow-lg shadow-sky-500/50">
                Z
              </div>
            </div>

            <div>
              <h2 class="text-base font-semibold text-amber-100 mb-1">
                Zážitkový let balónem
              </h2>
              <p class="text-xs text-white/65 mb-2">
                Let horkovzdušným balónem pro jednu až dvě osoby (podle aktuální nabídky partnera) v rámci ČR.
              </p>
              <p class="text-[11px] text-white/45">
                Partner: <span class="text-white/70">Zážitková agentura / letecké služby</span>
              </p>
            </div>

            <div class="mt-auto flex items-center justify-between gap-3 pt-2 border-t border-white/5">
              <p class="text-[11px] text-emerald-200 flex items-center gap-1">
                <i data-lucide="sparkles" class="w-3 h-3"></i>
                <span>Silný zážitek na celý život</span>
              </p>
              <button
                class="px-3 py-1.5 rounded-full bg-gradient-to-r from-sky-400 via-amber-300 to-fuchsia-400 text-[11px] font-semibold text-neutral-950 shadow-md shadow-sky-500/40 whitespace-nowrap"
                data-offer-id="offer_zazitek_1"
              >
                Vybrat tuto výhru
              </button>
            </div>
          </div>
        </article>

        <!-- 4) City break / pobyt ve městě -->
        <article class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-neutral-900 via-neutral-950 to-neutral-950 border border-amber-400/50 p-[1px]">
          <div class="rounded-2xl bg-neutral-950/95 px-4 py-4 flex flex-col gap-3 h-full">
            <div class="flex items-center justify-between gap-3">
              <div class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-amber-400/10 border border-amber-300/40 text-[11px] text-amber-200">
                <i data-lucide="building-2" class="w-3 h-3"></i>
                <span>City break / pobyt</span>
              </div>
              <div class="w-9 h-9 rounded-2xl bg-gradient-to-tr from-amber-400 to-fuchsia-400 flex items-center justify-center text-neutral-950 text-xs font-bold shadow-lg shadow-amber-500/50">
                C
              </div>
            </div>

            <div>
              <h2 class="text-base font-semibold text-amber-100 mb-1">
                City break ve vybraném evropském městě
              </h2>
              <p class="text-xs text-white/65 mb-2">
                Ubytování na 1–2 noci (bez dopravy) ve vybraném partnerském hotelu v některém z evropských měst.
              </p>
              <p class="text-[11px] text-white/45">
                Partner: <span class="text-white/70">Cestovní kancelář / hotelový partner</span>
              </p>
            </div>

            <div class="mt-auto flex items-center justify-between gap-3 pt-2 border-t border-white/5">
              <p class="text-[11px] text-emerald-200 flex items-center gap-1">
                <i data-lucide="globe-2" class="w-3 h-3"></i>
                <span>Nabídka podle aktuálních partnerů</span>
              </p>
              <button
                class="px-3 py-1.5 rounded-full bg-gradient-to-r from-amber-400 via-amber-300 to-fuchsia-300 text-[11px] font-semibold text-neutral-950 shadow-md shadow-amber-500/40 whitespace-nowrap"
                data-offer-id="offer_city_1"
              >
                Vybrat tuto výhru
              </button>
            </div>
          </div>
        </article>

      </div>
    </section>
  </div>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
      if (window.lucide) {
      }

      const goldInfo = document.getElementById("goldInfo");
      const goldCardCountEl = document.getElementById("goldCardCount");
      const noGoldCardState = document.getElementById("noGoldCardState");
      const offersSection = document.getElementById("offersSection");

      // 1) Zjistíme, jestli má uživatel výhru typu "gold-card" z Mystery Boxu
      let rewards = [];
      try {
        rewards = JSON.parse(localStorage.getItem("kartao_rewards") || "[]");
      } catch (e) {
        rewards = [];
      }

      const goldCards = rewards.filter((r) => r.type === "gold-card");

      if (!goldCards || goldCards.length === 0) {
        // Nemá Zlatou kartu → zobrazíme info a schováme nabídky
        noGoldCardState.classList.remove("hidden");
        offersSection.classList.add("opacity-40", "pointer-events-none");
      } else {
        // Má aspoň jednu Zlatou kartu
        goldInfo.classList.remove("hidden");
        goldCardCountEl.textContent = goldCards.length.toString();
      }

      // 2) Klik na „Vybrat tuto výhru“ – zatím jen info alert
      document.querySelectorAll("[data-offer-id]").forEach((btn) => {
        btn.addEventListener("click", () => {
          const offerId = btn.getAttribute("data-offer-id") || "";

          alert(
            "Tady se v další fázi doprogramuje skutečný výběr výhry a propojení s backendem.\n\n" +
            "Vybral jsi nabídku: " + offerId + "\n\n" +
            "Do budoucna zde může být formulář, potvrzení výběru a odeslání informací na e-mail."
          );
        });
      });
    });
  </script>
</body>
</html>
